/* Tooltip component styles */

/* Base tooltip styles */
.tooltip {
  /* Background and appearance */
  background-color: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);

  /* Shadow */
  box-shadow: var(--shadow-md);

  /* Layout */
  padding: 0.25rem 0.75rem; /* 4px 12px */
  font-size: 0.875rem; /* 14px */
  line-height: 1.25rem; /* 20px */

  /* Animation */
  will-change: transform;

  /* Dark mode shadow */
  &:where(.dark, .dark *) {
    box-shadow: none;
  }

  /* Entering animations */
  &[data-entering] {
    animation-name: tooltip-enter;
    animation-duration: 400ms;
    animation-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
    animation-fill-mode: both;

    &[data-placement="top"] {
      --enter-translate-y: 0.25rem;
    }

    &[data-placement="bottom"] {
      --enter-translate-y: -0.25rem;
    }

    &[data-placement="left"] {
      --enter-translate-x: 0.25rem;
    }

    &[data-placement="right"] {
      --enter-translate-x: -0.25rem;
    }
  }

  /* Exiting animations */
  &[data-exiting] {
    animation-name: tooltip-exit;
    animation-duration: 150ms;
    animation-timing-function: ease;
    animation-fill-mode: both;
  }

  /* Arrow styling */
  & [data-overlay-arrow] {
    fill: var(--panel);
    stroke: var(--border);
  }

  /* Arrow rotation based on placement */
  &[data-placement="bottom"] [data-overlay-arrow] {
    rotate: 180deg;
  }

  &[data-placement="left"] [data-overlay-arrow] {
    rotate: -90deg;
  }

  &[data-placement="right"] [data-overlay-arrow] {
    rotate: 90deg;
  }
}

/* Tooltip trigger */
.tooltip__trigger {
  /* Focus ring */
  &:focus-visible {
    outline: 2px solid var(--focus);
    outline-offset: 2px;
  }
}

/* Animation keyframes */
@keyframes tooltip-enter {
  from {
    opacity: 0;
    transform: translate3d(var(--enter-translate-x, 0), var(--enter-translate-y, 0), 0)
      scale3d(0.9, 0.9, 0.9);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
  }
}

@keyframes tooltip-exit {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
  }
  to {
    opacity: 0;
    transform: translate3d(0, 0, 0) scale3d(0.95, 0.95, 0.95);
  }
}
